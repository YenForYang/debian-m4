<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
This manual (31 December 2016) is for GNU M4 (version
1.4.18), a package containing an implementation of the m4 macro
language.

Copyright (C) 1989-1994, 2004-2014, 2016 Free Software
Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License,
Version 1.3 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts, and no
Back-Cover Texts.  A copy of the license is included in the section
entitled "GNU Free Documentation License." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Macro Arguments (GNU M4 1.4.18 macro processor)</title>

<meta name="description" content="Macro Arguments (GNU M4 1.4.18 macro processor)">
<meta name="keywords" content="Macro Arguments (GNU M4 1.4.18 macro processor)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Indices.html#Indices" rel="index" title="Indices">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Macros.html#Macros" rel="up" title="Macros">
<link href="Quoting-Arguments.html#Quoting-Arguments" rel="next" title="Quoting Arguments">
<link href="Inhibiting-Invocation.html#Inhibiting-Invocation" rel="prev" title="Inhibiting Invocation">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Macro-Arguments"></a>
<div class="header">
<p>
Next: <a href="Quoting-Arguments.html#Quoting-Arguments" accesskey="n" rel="next">Quoting Arguments</a>, Previous: <a href="Inhibiting-Invocation.html#Inhibiting-Invocation" accesskey="p" rel="prev">Inhibiting Invocation</a>, Up: <a href="Macros.html#Macros" accesskey="u" rel="up">Macros</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Macro-arguments"></a>
<h3 class="section">4.3 Macro arguments</h3>

<a name="index-macros_002c-arguments-to"></a>
<a name="index-arguments-to-macros"></a>
<p>When a name is seen, and it has a macro definition, it will be expanded
as a macro.
</p>
<p>If the name is followed by an opening parenthesis, the arguments will be
collected before the macro is called.  If too few arguments are
supplied, the missing arguments are taken to be the empty string.
However, some builtins are documented to behave differently for a
missing optional argument than for an explicit empty string.  If there
are too many arguments, the excess arguments are ignored.  Unquoted
leading whitespace is stripped off all arguments, but whitespace
generated by a macro expansion or occurring after a macro that expanded
to an empty string remains intact.  Whitespace includes space, tab,
newline, carriage return, vertical tab, and formfeed.
</p>
<div class="example">
<pre class="example">define(`macro', `$1')
&rArr;
macro( unquoted leading space lost)
&rArr;unquoted leading space lost
macro(` quoted leading space kept')
&rArr; quoted leading space kept
macro(
 divert `unquoted space kept after expansion')
&rArr; unquoted space kept after expansion
macro(macro(`
')`whitespace from expansion kept')
&rArr;
&rArr;whitespace from expansion kept
macro(`unquoted trailing whitespace kept'
)
&rArr;unquoted trailing whitespace kept
&rArr;
</pre></div>

<a name="index-warnings_002c-suppressing"></a>
<a name="index-suppressing-warnings"></a>
<p>Normally <code>m4</code> will issue warnings if a builtin macro is called
with an inappropriate number of arguments, but it can be suppressed with
the <samp>--quiet</samp> command line option (or <samp>--silent</samp>, or
<samp>-Q</samp>, see <a href="Operation-modes.html#Operation-modes">Invoking m4</a>).  For user
defined macros, there is no check of the number of arguments given.
</p>
<div class="example">
<pre class="example">$ <kbd>m4</kbd>
index(`abc')
error&rarr;m4:stdin:1: Warning: too few arguments to builtin `index'
&rArr;0
index(`abc',)
&rArr;0
index(`abc', `b', `ignored')
error&rarr;m4:stdin:3: Warning: excess arguments to builtin `index' ignored
&rArr;1
</pre></div>

<div class="example">
<pre class="example">$ <kbd>m4 -Q</kbd>
index(`abc')
&rArr;0
index(`abc',)
&rArr;0
index(`abc', `b', `ignored')
&rArr;1
</pre></div>

<p>Macros are expanded normally during argument collection, and whatever
commas, quotes and parentheses that might show up in the resulting
expanded text will serve to define the arguments as well.  Thus, if
<var>foo</var> expands to &lsquo;<samp>, b, c</samp>&rsquo;, the macro call
</p>
<div class="example">
<pre class="example">bar(a foo, d)
</pre></div>

<p>is a macro call with four arguments, which are &lsquo;<samp>a </samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo;,
&lsquo;<samp>c</samp>&rsquo; and &lsquo;<samp>d</samp>&rsquo;.  To understand why the first argument contains
whitespace, remember that unquoted leading whitespace is never part
of an argument, but trailing whitespace always is.
</p>
<p>It is possible for a macro&rsquo;s definition to change during argument
collection, in which case the expansion uses the definition that was in
effect at the time the opening &lsquo;<samp>(</samp>&rsquo; was seen.
</p>
<div class="example">
<pre class="example">define(`f', `1')
&rArr;
f(define(`f', `2'))
&rArr;1
f
&rArr;2
</pre></div>

<p>It is an error if the end of file occurs while collecting arguments.
</p>
<div class="example">
<pre class="example">hello world
&rArr;hello world
define(
^D
error&rarr;m4:stdin:2: ERROR: end of file in argument list
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Quoting-Arguments.html#Quoting-Arguments" accesskey="n" rel="next">Quoting Arguments</a>, Previous: <a href="Inhibiting-Invocation.html#Inhibiting-Invocation" accesskey="p" rel="prev">Inhibiting Invocation</a>, Up: <a href="Macros.html#Macros" accesskey="u" rel="up">Macros</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
